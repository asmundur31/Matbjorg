<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org">
<head>
    <head th:insert="/Fragments/headerLinks.html">

    </head>
    <title>Add advertisement</title>
</head>
<body>
<div th:insert="Fragments/navbar.html"></div>

<form action="#" th:action="@{/addadvertisement}" th:object="${advertisement}" enctype="multipart/form-data" method="post">
    <label for="name">Heiti</label>
    <input type="text" th:field="*{name}" id="name" placeholder="Gefðu auglýsingunni heiti" required>
    <span th:if="${#fields.hasErrors('name')}" th:error="*{name}"></span>
    <label for="description">Lýsing</label>
    <input type="text" th:field="*{description}" id="description" placeholder="Lýsing á vöru" required>
    <span th:if="${#fields.hasErrors('description')}" th:error="*{description}"></span>
    <label for="amount">Magn(kg)</label>
    <input type="number" th:field="*{originalAmount}" id="amount" step=".25" min=".25" required>
    <span th:if="${#fields.hasErrors('originalAmount')}" th:error="*{originalAmount}"></span>
    <label for="price">Verð(Kr.)</label>
    <input type="number" th:field="*{price}" id="price" min="0" required>
    <span th:if="${#fields.hasErrors('price')}" th:error="*{price}"></span>
    <label for="expireDate">Gildir til</label>
    <input type="datetime-local" th:field="*{expireDate}" id="expireDate" required>
    <span th:if="${#fields.hasErrors('expireDate')}" th:error="*{expireDate}"></span>
    <label for="tags">Vöruflokkar</label>
    <input type="checkbox" id="tags"
           th:each="tag : ${tags}"
           th:text="${tag}"
           th:value="${tag}"
           th:field="*{tags}">
    <span th:if="${#fields.hasErrors('tags')}" th:error="*{tags}"></span>
    <div class="form-group position-relative">
        <input type="file" name="picture" accept=".png,.jpeg,.jpg,.gif">
        <div class="invalid-tooltip">Mynd er of stór eða er hefur ekki endingu .jpeg, .jpg, .png eða .gif!</div>
    </div>
    <input type="submit" value="Birta auglýsingu">
</form>
<script type="text/javascript" th:src="@{/js/imageHandling.js}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</body>
</html>
